(this["webpackJsonpdiscord-clone-react"]=this["webpackJsonpdiscord-clone-react"]||[]).push([[0],{75:function(e,c,n){},79:function(e,c,n){},81:function(e,c,n){},82:function(e,c,n){},85:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){},91:function(e,c,n){},92:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(24),i=n.n(t),r=(n(75),n(17)),o=(n(79),n(38)),l=n.n(o),d=n(44),j=n(37),h=(n(81),n(82),n(48)),u=n.n(h),b=n(53),m=n.n(b),O=n(54),p=n.n(O),x=n(55),f=n.n(x),v=n(56),_=n.n(v),g=n(57),N=n.n(g),I=n(3);var S=function(e){e.id;var c=e.channelName;return Object(I.jsxs)("div",{className:"chatHeader",children:[Object(I.jsx)("div",{className:"chatHeader__left",children:Object(I.jsxs)("h3",{children:[Object(I.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(I.jsxs)("div",{className:"chatHeader__right",children:[Object(I.jsx)(u.a,{}),Object(I.jsx)(m.a,{}),Object(I.jsx)(p.a,{}),Object(I.jsxs)("div",{className:"chatHeader__search",children:[Object(I.jsx)("input",{placeholder:"Search"}),Object(I.jsx)(f.a,{})]}),Object(I.jsx)(_.a,{}),Object(I.jsx)(N.a,{})]})]})},C=n(59),w=n.n(C),y=n(60),k=n.n(y),D=n(61),z=n.n(D),B=n(62),E=n.n(B),H=n(111);n(85);var A=function(e){var c=e.message,n=void 0===c?"somthin":c,a=e.timestamp,s=void 0===a?"time":a,t=e.user;return Object(I.jsxs)("div",{className:"message",children:[Object(I.jsx)(H.a,{src:t.photo}),Object(I.jsxs)("div",{className:"message__info",children:[Object(I.jsxs)("h4",{children:[t.displayName,Object(I.jsx)("span",{className:"message__timestamp",children:new Date(null===s||void 0===s?void 0:s.toDate()).toUTCString()})]}),Object(I.jsx)("p",{children:n})]})]})},L=n(29),T=Object(L.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e,c){e.user=null}}}),G=T.actions,J=G.login,P=G.logout,U=function(e){return e.user.user},W=T.reducer,Y=Object(L.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),F=Y.actions.setChannelInfo,M=function(e){return e.app.channelId},R=function(e){return e.app.channelName},V=Y.reducer,X=n(27),K=(X.a.initializeApp({apiKey:"AIzaSyDAj7sBoIYIYvv5p7EOghre_4JZ05ojvYU",authDomain:"discord-clone-bac9a.firebaseapp.com",projectId:"discord-clone-bac9a",storageBucket:"discord-clone-bac9a.appspot.com",messagingSenderId:"1032110303724",appId:"1:1032110303724:web:644c4d5442fd751b6278c9",measurementId:"G-NXDPGX1R7Q"}),X.a.firestore()),Q=X.a.auth(),Z=new X.a.auth.GoogleAuthProvider,$=K;var q=function(){var e=Object(r.c)(U),c=Object(r.c)(M),n=Object(r.c)(R),s=Object(a.useState)(""),t=Object(j.a)(s,2),i=t[0],o=t[1],h=Object(a.useState)([]),u=Object(j.a)(h,2),b=u[0],m=u[1];Object(a.useEffect)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&$.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){m(e.docs.map((function(e){return e.data()})))}));case 1:case"end":return e.stop()}}),e)}))),[c]);var O=function(){var n=Object(d.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,$.collection("channels").doc(c).collection("messages").add({timestamp:X.a.firestore.FieldValue.serverTimestamp(),message:i,user:e});case 3:o("");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:"chat",children:[Object(I.jsx)(S,{id:c,channelName:n},c),Object(I.jsx)("div",{className:"chat__messages",children:b.map((function(e){return Object(I.jsx)(A,{message:e.message,timestamp:e.timestamp,user:e.user},e.id)}))}),Object(I.jsxs)("div",{className:"chat__input",children:[Object(I.jsx)(w.a,{fontSize:"large"}),Object(I.jsxs)("form",{children:[Object(I.jsx)("input",{disabled:!c,type:"text",onChange:function(e){return o(e.target.value)},value:i,placeholder:"message #".concat(n)}),Object(I.jsx)("button",{onClick:function(e){return O(e)},className:"chat__inputButton",type:"submit",children:"Send Message"})]}),Object(I.jsxs)("div",{className:"chat__inputIcons",children:[Object(I.jsx)(k.a,{fontSize:"large"}),Object(I.jsx)(z.a,{fontSize:"large"}),Object(I.jsx)(E.a,{fontSize:"large"})]})]})]})},ee=(n(89),n(45)),ce=n.n(ee),ne=n(63),ae=n.n(ne);n(90);var se=function(e){var c=e.id,n=e.channelName,a=Object(r.b)();return Object(I.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(F({channelId:c,channelName:n}))},children:Object(I.jsxs)("h4",{children:[Object(I.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},te=n(64),ie=n.n(te),re=n(65),oe=n.n(re),le=n(109),de=n(66),je=n.n(de),he=n(67),ue=n.n(he),be=n(68),me=n.n(be);var Oe=function(){var e=Object(r.c)(U),c=Object(a.useState)([]),n=Object(j.a)(c,2),s=n[0],t=n[1];return Object(a.useEffect)((function(){$.collection("channels").onSnapshot((function(e){t(e.docs.map((function(e){return console.log(e),{id:e.id,channel:e.data()}})))}))}),[]),Object(I.jsxs)("div",{className:"sidebar",children:[Object(I.jsxs)("div",{className:"sidebar__top",children:["Ovyas24",Object(I.jsx)(ce.a,{})]}),Object(I.jsxs)("div",{className:"sidebar__channels",children:[Object(I.jsxs)("div",{className:"sidebar__channelHeader",children:[Object(I.jsxs)("div",{className:"sidebar__header",children:[Object(I.jsx)(ce.a,{}),Object(I.jsx)("h4",{children:"Text Channel"})]}),Object(I.jsx)(ae.a,{onClick:function(){var e=prompt("Enter Channel Name");e&&$.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(I.jsx)("div",{className:"sidebar__channelList",children:s.map((function(e){var c=e.id,n=e.channel;return Object(I.jsx)(se,{id:c,channelName:n.channelName},c)}))})]}),Object(I.jsxs)("div",{className:"sidebar__voice",children:[Object(I.jsx)(ie.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(I.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(I.jsx)("h3",{children:"Voice Connected"}),Object(I.jsx)("p",{children:"Stream"})]}),Object(I.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(I.jsx)(le.a,{}),Object(I.jsx)(oe.a,{})]})]}),Object(I.jsxs)("div",{className:"sidebar__profile",children:[Object(I.jsx)(H.a,{onClick:function(){return Q.signOut()},src:e.photo}),Object(I.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(I.jsx)("h3",{children:e.displayName}),Object(I.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(I.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(I.jsx)(je.a,{}),Object(I.jsx)(ue.a,{}),Object(I.jsx)(me.a,{})]})]})]})},pe=n(110);n(91);var xe=function(){return Object(I.jsxs)("div",{className:"login",children:[Object(I.jsxs)("div",{className:"login__logo",children:[Object(I.jsx)("img",{src:"https://maxcdn.icons8.com/Share/icon/Logos/discord_logo1600.png",alt:"Discord"}),Object(I.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Discord_Color_Text_Logo.svg/1280px-Discord_Color_Text_Logo.svg.png",alt:""})]}),Object(I.jsx)(pe.a,{onClick:function(){Q.signInWithPopup(Z).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var fe=function(){var e=Object(r.b)(),c=Object(r.c)(U);return Object(a.useEffect)((function(){Q.onAuthStateChanged((function(c){c?e(J({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName})):(console.log("no data"),e(P()))}))}),[e]),Object(I.jsx)("div",{className:"app",children:c?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Oe,{}),Object(I.jsx)(q,{})]}):Object(I.jsx)(xe,{})})},ve=Object(L.a)({reducer:{user:W,app:V}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(r.a,{store:ve,children:Object(I.jsx)(fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[92,1,2]]]);
//# sourceMappingURL=main.e2ef5301.chunk.js.map